



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="ROBOTS" content="NOINDEX,NOFOLLOW,NOARCHIVE">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>無線制御 &mdash; Nichiden 0.9 RC ドキュメント</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/my_theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  

  
        <link rel="index" title="索引"
              href="../genindex.html"/>
        <link rel="search" title="検索" href="../search.html"/>
    <link rel="top" title="Nichiden 0.9 RC ドキュメント" href="../index.html"/>
        <link rel="next" title="過電圧保護回路" href="../protect.html"/>
        <link rel="prev" title="無線制御(PISCIUM)" href="piscium.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>
  <!-- Google Analytics -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-102450326-2', 'auto');
    ga('send', 'pageview');
  </script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Nichiden
          

          
          </a>

          
            
            
              <div class="version">
                0.9
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">最近更新した記事</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../twinkle.html">またたき回路</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nissyu-idohen/pc-software.html">日周緯度変(外部制御アプリ)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nissyu-idohen/pc-software-code.html">日周緯度変(Ogoseの実装解説)</a></li>
<li class="toctree-l1"><a class="reference internal" href="piscium.html">無線制御(PISCIUM)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">無線制御</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id2">概要</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id3">沿革</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id4">16-21主投</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">22主投</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id7">23主投</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id9">24主投</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id11">25主投</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id13">26主投</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id15">27主投</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id17">28主投</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id19">無線通信の要件</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id20">どの投影機を制御するか</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id21">送信側と受信側の同期</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id22">冗長化</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id23">電流管理</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id24">法令遵守</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../protect.html">過電圧保護回路</a></li>
</ul>
<p class="caption"><span class="caption-text">目次</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../main.html">東京大学地文研究会天文部 日電引き継ぎ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../management.html">プロジェクト マネジメント</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nissyu-idohen/kikou.html">日周緯度変(日周緯度変換機構)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nissyu-idohen/saitama.html">日周緯度変(さいたま)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nissyu-idohen/ikebukuro.html">日周緯度変(Ikebukuro)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nissyu-idohen/pc-software.html">日周緯度変(外部制御アプリ)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nissyu-idohen/pc-software-history.html">日周緯度変(外部制御アプリの歴史)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nissyu-idohen/pc-software-code.html">日周緯度変(Ogoseの実装解説)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">無線制御</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id2">概要</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id3">沿革</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id4">16-21主投</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">22主投</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id7">23主投</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id9">24主投</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id11">25主投</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id13">26主投</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id15">27主投</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id17">28主投</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id19">無線通信の要件</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id20">どの投影機を制御するか</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id21">送信側と受信側の同期</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id22">冗長化</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id23">電流管理</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id24">法令遵守</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="piscium.html">無線制御(PISCIUM)</a></li>
<li class="toctree-l1"><a class="reference internal" href="acrab.html">無線制御(Acrab)</a></li>
<li class="toctree-l1"><a class="reference internal" href="acrab-code.html">無線制御(Acrabの実装解説)</a></li>
<li class="toctree-l1"><a class="reference internal" href="graffias.html">無線制御(GRAFFIAS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../twinkle.html">またたき回路</a></li>
<li class="toctree-l1"><a class="reference internal" href="../protect.html">過電圧保護回路</a></li>
<li class="toctree-l1"><a class="reference internal" href="../haisen.html">配線</a></li>
<li class="toctree-l1"><a class="reference internal" href="../haisen-kagoshii.html">配線(かごしい内)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bihin.html">備品管理</a></li>
<li class="toctree-l1"><a class="reference internal" href="../syutou.html">主投影機との連携</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hojotou.html">補助投影機との連携</a></li>
<li class="toctree-l1"><a class="reference internal" href="../begginers/buy_parts.html">部品の買い方</a></li>
<li class="toctree-l1"><a class="reference internal" href="../begginers/electronic-design.html">回路設計のためのソフトウェア</a></li>
<li class="toctree-l1"><a class="reference internal" href="../begginers/microcontroller.html">マイコンをはじめよう</a></li>
<li class="toctree-l1"><a class="reference internal" href="../begginers/editor.html">テキストエディタを使ってみよう</a></li>
<li class="toctree-l1"><a class="reference internal" href="../begginers/visualstudio.html">Visual Studioをはじめよう</a></li>
<li class="toctree-l1"><a class="reference internal" href="../begginers/windows.html">無料でWindowsを手に入れる</a></li>
<li class="toctree-l1"><a class="reference internal" href="../handover.html">引き継ぎ資料の作成方法</a></li>
<li class="toctree-l1"><a class="reference internal" href="../honban.html">【直前特集】本番で気をつけたい三箇条</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Nichiden</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Nichiden</a> &raquo;</li>
        
      <li>無線制御</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/wireless/wireless.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div itemprop="articleBody">
              
  <div class="section" id="id1">
<h1>無線制御<a class="headerlink" href="#id1" title="このヘッドラインへのパーマリンク">¶</a></h1>
<ul class="simple">
<li>書いた人：Kenichi Ito(nichiden_27)</li>
<li>更新：Kenta Suda(nichiden_28)</li>
<li>更新日時：2018/10/4</li>
<li>実行に必要な知識・技能：電子回路、マイコン</li>
<li>タスクの重さ: 5/準備だけで数ヶ月</li>
<li>タスクの必須度：4/毎年やるべき</li>
</ul>
<div class="section" id="id2">
<h2>概要<a class="headerlink" href="#id2" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>星座絵は、プラネのにとって重要な要素ですが、常に点けたままというわけにはいきません。
解説やソフトの流れに合わせてたくさんの星座絵をリアルタイムでオンオフできる必要があるのです。</p>
<p>ただ、星座絵投影機の本体は、他の主投影機同様日周緯度変装置により回転します。
そのため有線での制御は困難です。
そこで、日電では星座絵の制御に無線を採用してきました。</p>
</div>
<div class="section" id="id3">
<h2>沿革<a class="headerlink" href="#id3" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id4">
<h3>16-21主投<a class="headerlink" href="#id4" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>データとして共有されている限りの資料では、16日電が<strong>FM変調方式</strong>
の電波を採用していた。
FMとは周波数変調方式のことで、ある周波数を閾値として0か1かのデジタル信号を表すというわけだ。
ただし、高周波のノイズが紛れ込むと0が1に反転してしまう問題があり、誤り訂正の工夫をしていたようだ。</p>
<p>この頃の情報は不完全で、不明なことも多い。
19日電の資料には、北天側で信号を受信し、南天側のサブ機に有線で信号を送ったとの記述がある。
送信機・受信機にはPICマイコンを使っていたようだ。</p>
</div>
<div class="section" id="id5">
<span id="id6"></span><h3>22主投<a class="headerlink" href="#id5" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>22では、AM変調の無線モジュールとAVRマイコンを採用した。 英RF
Solutions社の<code class="docutils literal notranslate"><span class="pre">AM-RT</span></code>/<code class="docutils literal notranslate"><span class="pre">AM-HRR</span></code>というモジュールを使用していたようだ。</p>
<p>22星座絵は16個あり、16bit(2byte)のデータでオンオフを表現できる。
送信側はトグルスイッチ16個を並べた基板と接続しており、スイッチの状態を読み取って電波信号に換える。</p>
<p>南北の受信機の区別にも工夫があった。
ジャンパピンの位置で、上位・下位それぞれ8bitのどちらを読み取るか切り替えられる。
これにより、送信側からは南北まとめて信号を送り、受信側で南北を区別する仕組みだ。</p>
<div class="figure" id="id25">
<img alt="22星座絵受信機に貼られていたラベル" src="../_images/wireless-22.jpg" />
<p class="caption"><span class="caption-text">22星座絵受信機に貼られていたラベル</span></p>
</div>
<p>しかし、通信のエラーは排除しきれず、タイムラグも大きいものだった。</p>
</div>
<div class="section" id="id7">
<span id="id8"></span><h3>23主投<a class="headerlink" href="#id7" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>23日電になり、<code class="docutils literal notranslate"><span class="pre">XBee</span></code><strong>が初めて採用された。</strong>
<code class="docutils literal notranslate"><span class="pre">Xbee</span></code>は、<code class="docutils literal notranslate"><span class="pre">ZigBee</span></code>というプロトコルを使用した無線モジュールだ。
買ってきて設定するだけで、手軽に無線通信を使用できる。
ロボットやCanSat(模擬人工衛星)の大会でも多数のチームが採用しており、性能は折り紙つきである。</p>
<p><code class="docutils literal notranslate"><span class="pre">XBee</span></code>にはシリアル通信のように扱えるATモードと、<code class="docutils literal notranslate"><span class="pre">XBee</span></code>自体を制御に使うAPIモードがある。
23で使ったのは前者で、送信側1台をPCに、受信側2台を南北それぞれの受信機回路に接続していた。</p>
<p>23では、これまでのように一方的にコマンドを送るだけでなく、<strong>受信側の状態をフィードバック</strong>
することでエラー検出・修正を試みた。
しかし、回路の不備で正しい応答が返らず、星座絵の操作はできたもののフィードバックは実現しなかった。</p>
<p>受信機の回路には22同様AVRマイコンが使われていた。
さらに、過電圧保護回路やトランジスタアレイでのポート制御など、以降の星座絵受信機の基本となる設計がこの時期に生み出されたと言える。</p>
<div class="figure" id="id26">
<img alt="23星座絵受信機回路図" src="../_images/wireless-23-circuit.png" />
<p class="caption"><span class="caption-text">23星座絵受信機回路図</span></p>
</div>
</div>
<div class="section" id="id9">
<span id="id10"></span><h3>24主投<a class="headerlink" href="#id9" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>24日電では23の設計を受け継ぎ、受信機を作り替えた。</p>
<p>また、PC操作用のソフト<code class="docutils literal notranslate"><span class="pre">Constellation</span> <span class="pre">Picture</span> <span class="pre">Transmitter</span></code>が開発された。
黒基調のUIが採用され、「黄道十二星座」「夏の大三角」といった星座グループの一括オンオフにも対応している。
ただ、受信側からのフィードバックで表示を修正する機能はうまく動作しなかった模様である。</p>
<div class="figure" id="id27">
<img alt="Constellation Picture Transmitterの画面" src="../_images/constellation-picture-transmitter.png" />
<p class="caption"><span class="caption-text">Constellation Picture Transmitterの画面</span></p>
</div>
</div>
<div class="section" id="id11">
<span id="id12"></span><h3>25主投<a class="headerlink" href="#id11" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>25日電はPC側アプリケーションの改良を進め、<code class="docutils literal notranslate"><span class="pre">Funabashi</span></code>を開発した。
しかし、不具合により本番で動かず、24の<code class="docutils literal notranslate"><span class="pre">Constellation</span> <span class="pre">Picture</span> <span class="pre">Transmitter</span></code>に切り替えたという。</p>
<p><code class="docutils literal notranslate"><span class="pre">Fuinabashi</span></code>では24と同じように星座一覧から選ぶモードと、ソフトやライブ解説の指示に沿ってボタンが並ぶモードが用意された。</p>
<div class="figure" id="id28">
<img alt="Funabashiのソフト指示画面" src="../_images/funabashi.png" />
<p class="caption"><span class="caption-text">Funabashiのソフト指示画面</span></p>
</div>
</div>
<div class="section" id="id13">
<span id="id14"></span><h3>26主投<a class="headerlink" href="#id13" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>26でも<code class="docutils literal notranslate"><span class="pre">Fuinabashi</span></code>の開発が続けられ、完成に至った。
一方、リハーサルの頃に予備も含めて受信機の故障が相次ぎ、本番時点で北天用一台しか使えない事態に発展した。</p>
<p>急遽解説で使用する星座を14個まで減らし、公演ごとに配線を繋ぎかえる方針で投影を試みた。
しかし、公演間の準備の手間が増えた上、イレギュラーな南北配線により電源喪失が数回発生してしまった。
このため、星座絵の全点灯は最終日になってようやく達成されたのだった。</p>
</div>
<div class="section" id="id15">
<span id="id16"></span><h3>27主投<a class="headerlink" href="#id15" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>26までの受信機が全て故障していたことから、再生産が急務となった。
ソフトの要望により、こうとうの無線によるオンオフにも挑戦した。</p>
<p>最終的に、<code class="docutils literal notranslate"><span class="pre">XBee</span></code>からWi-Fi規格のモジュールに変更し、全主投影機をオンオフする能力を備えた<code class="docutils literal notranslate"><span class="pre">Piscium</span></code>が新たな受信機として登場した。</p>
<p>また、Wi-Fi採用により送信側はPC単体で済むようになり、操作用Webアプリ<code class="docutils literal notranslate"><span class="pre">Acrab</span></code>が作られた。</p>
<div class="figure" id="id29">
<img alt="Acrabのメイン画面" src="../_images/acrab-main.png" />
<p class="caption"><span class="caption-text">Acrabのメイン画面</span></p>
</div>
<p>星座絵一覧から選ぶ方式は変わっていないが、内部処理が大きく変容している。
クリックでボタンのオンオフを切り替えるのではなく、受信機からの応答によって全ボタンの表示を更新する仕組みだ。
これにより、必ず実際の投影機と<code class="docutils literal notranslate"><span class="pre">Acrab</span></code>の表示が同期する。
23から続いていた受信機からのフィードバック機能を初めて実用化したと言えるだろう。</p>
<p>また、「公演用」画面においてソフトの指示をファイルから読み込み、進む/戻るボタンで簡単に操作できるようにした。
本番中の負担が大きく軽減され、星座絵のメンバーにも操作を手伝って頂くことができた。</p>
<div class="figure" id="id30">
<img alt="Acrabの公演用画面" src="../_images/acrab-scenario.png" />
<p class="caption"><span class="caption-text">Acrabの公演用画面</span></p>
</div>
<p>実装など詳細は<code class="docutils literal notranslate"><span class="pre">Piscium</span></code>・<code class="docutils literal notranslate"><span class="pre">Acrab</span></code>の個別記事に掲載する。</p>
</div>
<div class="section" id="id17">
<span id="id18"></span><h3>28主投<a class="headerlink" href="#id17" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>28では基本的に27の星座絵受信機<code class="docutils literal notranslate"><span class="pre">Piscium</span></code>とWebアプリ<code class="docutils literal notranslate"><span class="pre">Acrab</span></code>を使いまわした。
27の<code class="docutils literal notranslate"><span class="pre">Piscium</span></code>は電源が不安定であるという問題があったため、そこを改善した。
27で全投影機の制御が実装されていたが、実際には電源が突入電流に耐えられず機能しなかった。
28で電源を改善したため、調整中には実際に全投影機の制御が可能であることが確認できた。
しかし、本番では問題が発生して星座絵以外の制御は使用しなかった。(詳しくは個別の記事で書く。)</p>
</div>
</div>
<div class="section" id="id19">
<h2>無線通信の要件<a class="headerlink" href="#id19" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>無線通信を実現する技術は、プラネの歴史を見ればわかるように様々である。
しかし、手法によらず達成しておくべき機能がいくつかある。</p>
<p>27の<code class="docutils literal notranslate"><span class="pre">Piscium</span></code>や<code class="docutils literal notranslate"><span class="pre">Acrab</span></code>固有の反省点については個別記事内で触れる。</p>
<div class="section" id="id20">
<h3>どの投影機を制御するか<a class="headerlink" href="#id20" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>無線制御装置は、元より星座絵を遠隔で点灯させるために始まった。
しかし27でその対象を全投影機に広げた。</p>
<p>ソフトの「星空が急に現れる」という演出の都合上、こうとうが確実に消える必要があったための措置である。
ところが本番での検証の結果、こうとうはあおとうで確実に搔き消え、しるとうのみの状態でも2等星が見えるか見えないかという状態だった。
そのため、実際はこうとうのONOFF制御はいらなかったかもしれない。</p>
<p>一方で、あおとうの全点灯時にもいっとうだけは見えていた。
ドーム内が「昼間」の状態でも一等星の位置が分かるのは日周の位置合わせに便利だったが、昼間に星が見えるのは本来正しくない。</p>
<p>星空を再現するのであれば、<strong>夕日が沈むのに合わせて一等星を少しずつ点灯させるのがベストだろう。</strong>
一等星を個別に操作※するのは難しいにしても、いっとう全体をオンオフする演出を取り入れる価値はあるだろう。
ソフトや他の投影機と一度話し合っておいてほしい。</p>
<p>※とはいえ、いっとうと電源の間には既に「またたき回路」が挟まっている。またたき機能と無線機能を兼ね備えた新たな回路を作れば一等星を個別に操れるかもしれない。</p>
</div>
<div class="section" id="id21">
<h3>送信側と受信側の同期<a class="headerlink" href="#id21" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>エアコンの赤外線リモコンを操作していて、障害物などで信号が届かなかった経験があるだろう。
こうした場合、リモコンの表示は「オン」なのに実際はオフ、といった食い違いが起こる。
ここからエアコンを起動するには、ボタンをさらに数回押してやらねばならない。</p>
<p>このように、操作対象と操作画面の状態がずれてしまうと混乱が生じやすい。
特に、数十の星座を番組進行に合わせてタイミングよく切り替えるプラネの現場ではなるべく避けたい事態だ。</p>
<p>これを解決するには、受信機が信号を受け取るたびに送信側に結果を通知する仕組みが有効である。
送信側の結果更新には受信機から受け取ったデータを使えば、<strong>受信機の状態と画面の表示が必ず同期する。</strong></p>
<p>この手法にもデメリットはあり、送受信に時間がかかるような環境ではボタンを押してから表示が変化するまでにラグが発生してしまう。
現在使われるような高性能のモジュールではほぼ問題はなさそうだが、遅延が無視できない対策が必要だ。</p>
</div>
<div class="section" id="id22">
<h3>冗長化<a class="headerlink" href="#id22" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>無線制御装置が本番で突然故障し、予備もないとしよう。
その瞬間から、星座絵は一つも点灯できず、星座絵メンバーの努力が水の泡となる。
このような恐ろしい事態を避けるために、二重・三重の対策が必要だ。</p>
<p>確実かつ思いつきやすいのが、<strong>予備の受信機</strong> を用意しておくことだ。
23〜25代の星座絵受信機は、ほぼ同じ設計のものが最終的に4台作られた。
これで、急に故障しても丸ごと交換してしまえば復旧できそうだ(故障原因を特定して潰せていればだが)。</p>
<p>全く同じものを作るのが難しくても、<strong>壊れやすい部品の予備</strong>
を手に届くところに用意しておくだけでもいい。
無線モジュールやマイコンが破損し、買いに行こうにも部品屋はもう閉まっている…といった最悪の事態を回避できる。
また、予備部品は不具合があった際の問題の切り分けにも役立つ。</p>
<p>別の方針として、<strong>手動スイッチの追加</strong> というのがある。
無線通信が絶たれても、受信機のところまで行って手で操作すれば投影機が点灯するというものだ。
回路が余計に複雑になるので27では見送ったが、検討の余地はありそうだ。</p>
</div>
<div class="section" id="id23">
<h3>電流管理<a class="headerlink" href="#id23" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>投影機の光源は旧来の電球からLEDにシフトしつつある。
なかでも、強力な光源を必要とする主投影機が昨今相次いで採用しているのが、「パワーLED」だ。
パワーLEDは、一個で1Wや3Wといった大電力を消費する。
それを複数まとめて点灯させると、突入電流はかなりのものになることだろう。</p>
<p>過去の星座絵受信機の故障の原因の多くは、<strong>想定を超えた過電流による端子の故障</strong>
と考えられる。
27の<code class="docutils literal notranslate"><span class="pre">Piscium</span></code>で、あえてトランジスタアレイを使わずFETを採用したのも、万一問題が起きても故障が高価な部品にまで及ばないようにするためだ。</p>
<p>すぐに目に見える故障が起きないとしても、大電流が流れる回路であることを意識して、アースの確保や導線の太さの選定などに気をつけてほしい。</p>
</div>
<div class="section" id="id24">
<h3>法令遵守<a class="headerlink" href="#id24" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>今や、電波は我々の文明にとって欠かせない資源である。
わが国では、その利用について「電波法」で定めている。</p>
<p>無線局は誰でも勝手に設置して良いものではなく、原則として免許を受けねばならない。
ただし、無線LAN機器などはその例外にあたり、「<strong>技適マーク</strong>」が付いていれば国内で使用してよい。</p>
<p>国内の部品屋などで買える無線モジュールには大概技適マークが付いているので、気にせずに使っても構わない。
しかし、技適マークは日本国内でしか通用しないので、海外の端末やモジュールにはないことも多い。
海外通販で部品を買う場合は、日本の技適を通っているかよく確認するのが望ましい。</p>
</div>
</div>
</div>


            </div>
            <div class="articleComments">
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../protect.html" class="btn btn-neutral float-right" title="過電圧保護回路" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="piscium.html" class="btn btn-neutral" title="無線制御(PISCIUM)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Nichiden Project.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.9 RC',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/translations.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>